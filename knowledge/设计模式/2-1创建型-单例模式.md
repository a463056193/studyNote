采取一定的方法保证在整个软件系统中，对某个类只能存在一个对象实例，并且该类只提供一个取得其对象实例的方法



### 静态常量饿汉式

```java
class Singleton {
    // 1. 构造器私有化，外部不能new
    private Singleton() {
        
    }
    
    // 2. 本类内部创建对象实例
    private final static Singleton instance = new Singleton();
    
    // 3. 提供一个公有的静态方法，返回实例对象
    public static Singleton getInstance() {
        return instance;
    }
}
```

![image-20220301212645988](C:\Users\46305\AppData\Roaming\Typora\typora-user-images\image-20220301212645988.png)



### 静态常量代码块饿汉式

```java
class Singleton {
    // 1. 构造器私有化，外部不能new
    private Singleton() {
       
    }
    
    // 2. 本类内部创建对象实例
    private static Singleton instance;
    
    static {  // 在静态代码块中，创建单例对象
        instance = new Singleton();
    }
    
    // 3. 提供一个公有的静态方法，返回实例对象
    public static Singleton getInstance() {
        return instance;
    }
}
```



### 线程不安全懒汉式

```java
class Singleton {
    // 1. 构造器私有化，外部不能new
    private Singleton() {
       
    }
    
    // 2. 提供一个静态的公有方法，当使用到该方法时，才去创建instance
    private static Singleton instance;
   
    
    // 3. 提供一个公有的静态方法，返回实例对象
    public static Singleton getInstance() {
        if (instance == null) {
            instance = new Singleton();
        }
        return instance;
    }
}
```



### 线程安全懒汉式

```java
class Singleton {
    // 1. 构造器私有化，外部不能new
    private Singleton() {
       
    }
    
    // 2. 提供一个静态的公有方法，当使用到该方法时，才去创建instance
    private static Singleton instance;
   
    
    // 3. 提供一个公有的静态方法，返回实例对象
    public static synchronnized Singleton getInstance() {
        if (instance == null) {
            instance = new Singleton();
        }
        return instance;
    }
}
```





### 双重检查同步代码块懒汉式

```java
class Singleton {
    // 1. 构造器私有化，外部不能new
    private Singleton() {
       
    }
    
    // 2. 提供一个静态的公有方法，当使用到该方法时，才去创建instance
    private static volatile Singleton instance;
   
    
    // 3. 提供一个公有的静态方法，返回实例对象
    public static Singleton getInstance() {
        if (instance == null) {
            synchronized (Singleton.class) {
                if (instance == null) {
                    instance = new Singleton();
                }
            }
        }
        return instance;
    }
}
```





### 静态内部类

```java
class Singleton {
    // 1. 构造器私有化，外部不能new
    private Singleton() {
       
    }
    
    // 2. 提供一个静态内部类，该类中有一个静态属性
    private static class SingletonInstance {
        private static final Singleton INSTANCE = new Singleton();
    }
   
    
    // 3. 提供一个公有的静态方法，返回实例对象
    public static Singleton getInstance() {
        return SingletonInstance.INSTANCE;
    }
}
```

![image-20220301215747614](C:\Users\46305\AppData\Roaming\Typora\typora-user-images\image-20220301215747614.png)



### 枚举

```java
public class Singleton {
    Singleton instance = Singleton.INSTANCE;
}

enum Singleton {
    INSTANCE;
}
```

